<div xmlns="http://www.w3.org/1999/html">
  <ess-back-to-search-bar></ess-back-to-search-bar>
  <div class="container-xxl mb-5">
    <div class="dashboard" style="position: relative">
      <section class="details-header rounded">
        <div class="container" *ngIf="training !== undefined">
          <div class="row">
            <div class="col-12 col-lg-10 row">
              <div class="col-12 col-sm-9">
                <h1>{{ training.title }}</h1>
                <p class="mb-1">{{ keywords }}</p>
                <span class="clearfix"></span>
              </div>
            </div>
            <div class="col-12 col-lg-2 text-center">
              <p class="download font-light">
                <a href="{{ originUrl }}">Access the training</a>
              </p>
              <div class="vertical-center-inner access-type">
                <span class="accesstype-label">
                  <i class="accesstype accesstype-{{ accessType }}"></i>
                  {{ accessType }}
                </span>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-12">
            <ul class="nav nav-tabs row pl-3" id="my-tab" role="tablist">
              <li class="nav-item">
                <a
                  class="nav-link text-uppercase {{
                    currentTab === 'about' ? 'active' : ''
                  }}"
                  (click)="toggleTab('about')"
                  role="tab"
                  href="javascript:undefined"
                  >About</a
                >
              </li>
              <li class="nav-item">
                <a
                  class="nav-link text-uppercase {{
                    currentTab === 'details' ? 'active' : ''
                  }}"
                  (click)="toggleTab('details')"
                  role="tab"
                  href="javascript:undefined"
                  >Details</a
                >
              </li>
            </ul>
          </div>
        </div>
      </section>
      <section id="description-tab">
        <div
          id="about"
          class="tab-content {{
            currentTab === 'about' ? 'd-block' : 'd-none'
          }}"
          *ngIf="training !== undefined"
        >
          <div
            aria-labelledby="home-tab"
            class="container pt-2 desc"
            id="desc"
            role="tabpanel"
          >
            <div class="row p-4 justify-content-between">
              <div class="col-12 col-lg-9 pr-5 mb-4 trainings-left-column">
                <p>{{ training.description }}</p>
              </div>
              <div class="col-12 col-lg-3 trainings-right-column">
                <div class="right-panel">
                  <ng-container *ngFor="let tag of sidebarTags">
                    <h5>{{ tag.label }}</h5>
                    <ul class="list-group domains mb-4">
                      <ng-container *ngIf="isArray(tag.values); else oneValue">
                        <ng-container
                          *ngFor="let singleValue of $any(tag.values)"
                        >
                          <li>
                            <span>
                              {{ singleValue.label }}
                            </span>
                          </li>
                        </ng-container>
                      </ng-container>
                      <ng-template #oneValue>
                        <li>
                          <span>
                            {{ tag.values }}
                          </span>
                        </li>
                      </ng-template>
                    </ul>
                  </ng-container>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div
          id="details"
          class="tab-content {{
            currentTab === 'details' ? 'd-block' : 'd-none'
          }}"
        >
          <div class="container">
            <div class="row p-4">
              <ng-container *ngFor="let tag of detailsTags">
                <div class="col-12 col-lg-4">
                  <div class="details-box">
                    <div class="details-box-header">
                      {{ tag.label }}
                    </div>
                    <div class="details-content">
                      <ul class="list-group">
                        <ng-container
                          *ngIf="isArray(tag.values); else oneValue"
                        >
                          <ng-container
                            *ngFor="let singleValue of $any(tag.values)"
                          >
                            <li>
                              <span>
                                {{ singleValue.label }}
                              </span>
                            </li>
                          </ng-container>
                        </ng-container>
                        <ng-template #oneValue>
                          <li>
                            <span>
                              {{ tag.values }}
                            </span>
                          </li>
                        </ng-template>
                      </ul>
                    </div>
                  </div>
                </div>
              </ng-container>
            </div>
          </div>
        </div>
      </section>
    </div>
  </div>
</div>
